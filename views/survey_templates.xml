<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <!-- Header -->
        <template id="survey_fill_header_custom" inherit_id="survey.survey_fill_header">
            <xpath expr="//div[@class='o_survey_nav pt16 mb-2']" position="replace">
                <div class="o_survey_nav pt16 mb-2">
                    <div class="container m-0 p-0">
                        <div class="row">
                            <div  class="col-lg-10">
                                <h3 t-if="answer.state == 'new' or survey.questions_layout != 'page_per_question'"
                                    t-esc="survey.title" class="o_survey_main_title pt-4"></h3>
                            </div>
                            <div class="o_survey_timer col-lg-2 pt-4">
                                <h3 class="o_survey_timer_container timer text-end">
                                </h3>
                            </div>
                        </div>
                    </div>
                    <div t-att-class="'o_survey_breadcrumb_container mt8' + (' d-none ' if answer.state != 'in_progress' else '')"
                        t-if="not survey.has_conditional_questions and survey.questions_layout == 'page_per_section' and answer.state != 'done'"
                        t-att-data-can-go-back="survey.users_can_go_back"
                        t-att-data-pages="json.dumps(breadcrumb_pages)" />
                </div>
            </xpath>
        </template>

        <!-- Question (main page content) -->
        <template id="survey_fill_form_in_progress_custom" inherit_id="survey.survey_fill_form_in_progress">
            <t t-if="survey.questions_layout == 'page_per_section'">
                <h3 t-field='page.title' class="o_survey_title pb16 text-break" />
                <div t-field='page.description' class="oe_no_empty text-break"/>

                <input type="hidden" name="page_id" t-att-value="page.id" />
                <t t-foreach='page.question_ids' t-as='question'>
                    <t t-if="question in answer.predefined_question_ids" t-call="survey.question_container"/>
                </t>

                <div class="row">
                    <div class="col-12 text-center mt16">
                        <t t-set="submit_value" t-value="'finish' if survey_last or answer.is_session_answer else 'next_skipped'
                            if answer.survey_first_submitted and skipped_questions.page_id and page in skipped_questions.page_id else 'next'"/>
                        <button type="submit" t-att-value="submit_value" t-attf-class="btn #{'btn-secondary' if survey_last else 'btn-primary'} disabled">
                            <t t-if="submit_value == 'finish'">Submit</t>
                            <t t-elif="submit_value == 'next_skipped'">Next Skipped</t>
                            <t t-else="">Continue</t>
                        </button>
                        <button id="next_page" t-attf-class="btn #{'btn-secondary' if survey_last else 'btn-primary'} d-none">Next</button>
                        <span class="fw-bold text-muted ms-2 d-none d-md-inline" id="enter-tooltip"> or press CTRL+Enter</span>
                    </div>
                </div>
            </t>
            <!-- <xpath expr="//h2[@t-field='page.title']" position="replace">
                <h1 t-field='page.title' class="o_survey_title pb16 text-break" />
            </xpath> -->
        </template>

        <!-- Form Start (start form content) -->
        <template id="survey_fill_form_start_custom" inherit_id="survey.survey_fill_form_start">
            <xpath expr="//div[@class='wrap o_survey_start']" position="replace">
                <div class="wrap o_survey_start">
                    <div class='mb32'>
                        <div t-field='survey.description' class="oe_no_empty pb-5 text-break"/>
                        <t t-if="answer.is_session_answer">
                            <div class="fw-bold">
                                The session will begin automatically when the host starts.
                            </div>
                        </t>
                        <t t-else="">
                            <div t-if="survey.is_time_limited">
                                <p>
                                    <span t-if="not survey.certification">Time limit for this survey: </span>
                                    <span t-else="">Time limit for this certification: </span>
                                    <span class="fw-bold text-danger" t-field="survey.time_limit" t-options="{'widget': 'duration', 'unit': 'minute'}"></span>
                                </p>
                            </div>
                            <button type="submit" value="start" class="btn btn-lg disabled" style="background-color: #347cac;">
                                <t t-if="survey.certification">
                                    Start Certification
                                </t>
                                <t t-else="">
                                    Start Survey
                                </t>
                            </button>
                            <span class="o_survey_enter fw-bold text-muted ms-2 d-none d-md-inline">or press Enter</span>
                        </t>
                    </div>
                </div>
            </xpath>
        </template>

        <!-- Review Answer/Print -->
    </data>
</odoo>